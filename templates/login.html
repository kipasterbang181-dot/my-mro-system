<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <title>Admin Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-900 flex flex-col items-center justify-center min-h-screen p-6 font-sans">
    <div class="bg-white p-8 rounded-[2.5rem] shadow-2xl w-full max-w-sm mb-6">
        <h2 class="text-xl font-black text-blue-900 uppercase italic mb-6 text-center">Admin Access</h2>
        <form action="/login" method="POST" class="space-y-4">
            <input type="text" name="u" placeholder="User" class="w-full p-4 bg-slate-50 border rounded-2xl" required>
            <input type="password" name="p" placeholder="Pass" class="w-full p-4 bg-slate-50 border rounded-2xl" required>
            <button type="submit" class="w-full bg-blue-900 text-white py-4 rounded-2xl font-black uppercase tracking-widest hover:bg-black transition shadow-lg">Login</button>
        </form>
    </div>

    <div class="w-full max-w-sm bg-white/10 p-4 rounded-3xl border border-white/10 text-center relative">
        <h3 class="text-[10px] font-black text-white uppercase mb-3 italic">Sky Racer üöÅ</h3>
        <div class="relative">
            <canvas id="gameCanvas" width="300" height="150" class="mx-auto rounded-2xl bg-sky-500/10 border border-white/20"></canvas>
            <div id="revive-screen" class="hidden absolute inset-0 flex flex-col items-center justify-center bg-black/80 rounded-2xl">
                <p class="text-white font-black text-xs mb-3 uppercase italic">Crashed!</p>
                <button onclick="reviveGame()" class="bg-amber-500 text-white px-6 py-2 rounded-xl font-black uppercase text-[10px] hover:bg-amber-600 transition">Revive üöÅ</button>
            </div>
        </div>
        <div class="flex justify-between px-2 mt-2">
            <span id="game-score" class="text-sky-400 font-black text-[10px]">Distance: 0m</span>
            <span id="high-score" class="text-white/30 font-black text-[10px]">Best: 0m</span>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const reviveScreen = document.getElementById('revive-screen');
        let heliY = 75, velocity = 0, obstacles = [], score = 0, gameActive = true;
        let best = localStorage.getItem('mro_best') || 0;
        document.getElementById('high-score').innerText = "Best: " + best + "m";

        function update() {
            if(!gameActive) return;
            ctx.clearRect(0, 0, 300, 150);
            velocity += 0.15; heliY += velocity;

            ctx.fillStyle = "#fbbf24"; ctx.fillRect(40, heliY, 20, 10); // Heli
            ctx.fillStyle = "white"; ctx.fillRect(35, heliY-2, 30, 2); // Blade

            if(Math.random() < 0.03) obstacles.push({x: 300, y: Math.random()*130});
            obstacles.forEach((o, i) => {
                o.x -= 2.5; ctx.fillStyle = "red"; ctx.fillRect(o.x, o.y, 15, 15);
                if(40 < o.x+15 && 60 > o.x && heliY < o.y+15 && heliY+10 > o.y) endGame();
            });

            if(heliY > 145 || heliY < 0) endGame();
            score++;
            document.getElementById('game-score').innerText = "Distance: " + score + "m";
            requestAnimationFrame(update);
        }

        function endGame() {
            gameActive = false;
            reviveScreen.classList.remove('hidden');
            if(score > best) { best = score; localStorage.setItem('mro_best', best); }
        }

        function reviveGame() {
            heliY = 75; velocity = 0; obstacles = []; score = 0;
            gameActive = true;
            reviveScreen.classList.add('hidden');
            update();
        }

        canvas.addEventListener('mousedown', () => { if(gameActive) velocity = -3.5; });
        canvas.addEventListener('touchstart', (e) => { e.preventDefault(); if(gameActive) velocity = -3.5; });
        update();
    </script>
</body>
</html>